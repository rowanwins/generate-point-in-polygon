!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).randomPointInPolygon=t()}(this,function(){"use strict";var n=function(n){for(var t=0,r=0;r<n.length-1;r++){var e=n[r],o=n[r+1];t+=(o[0]-e[0])*(o[1]+e[1])}return t>0},t=function(n,t){for(var r=n[0],e=n[1],o=!1,a=0,c=t.length-1;a<t.length;c=a++){var i=t[a][0],u=t[a][1],f=t[c][0],l=t[c][1];u>e!=l>e&&r<(f-i)*(e-u)/(l-u)+i&&(o=!o)}return o};return function(r,e){let o=e||0;if(0===o)if(n(r))for(o=r.length-3;o>=0&&l(r[o],r[o+1],r[o+2]);o--);else for(;o<r.length-3&&!l(r[o],r[o+1],r[o+2]);o++);const a=[r[o],r[o+1],r[o+2]];!function(n,t,r){if("development"!==process.env.NODE_ENV)return;const e=window.map,o=L.layerGroup([]).addTo(e);L.circleMarker([n[1],n[0]],{color:"red",radius:10}).addTo(o),L.circleMarker([t[1],t[0]],{color:"orange",radius:6}).addTo(o),L.circleMarker([r[1],r[0]],{color:"yellow",radius:3}).addTo(o),o.clearLayers()}(r[o],r[o+1],r[o+2]);let c=null,i=1/0;for(let n=1;n<r.length-1;n++)if(n!==o+1&&t(r[n],a)){const t=(u=r[o+1],f=r[n],Math.sqrt((f[1]-u[1])*(f[1]-u[1])+(f[0]-u[0])*(f[0]-f[0])));t<i&&(i=t,c=n)}var u,f;return null===c?function(n,t,r){return[(n[0]+t[0]+r[0])/3,(n[1]+t[1]+r[1])/3]}(r[o],r[o+1],r[o+2]):function(n,t){return[(n[0]+t[0])/2,(n[1]+t[1])/2]}(r[o+1],r[c]);function l(n,t,r){const e=s(t,n);return h(h(s(t,r))-h(e))<180}function s(n,t){const r=d(n[0]),e=d(t[0]),o=d(n[1]),a=d(t[1]),c=Math.sin(e-r)*Math.cos(a),i=Math.cos(o)*Math.sin(a)-Math.sin(o)*Math.cos(a)*Math.cos(e-r);return 180*Math.atan2(c,i)/Math.PI}function d(n){return n*Math.PI/180}function h(n){let t=n%360;return t<0&&(t+=360),t}}});
